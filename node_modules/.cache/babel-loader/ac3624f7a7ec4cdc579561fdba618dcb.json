{"ast":null,"code":"import _slicedToArray from\"C:/Users/ataks/Desktop/Software/React/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"C:/Users/ataks/Desktop/Software/React/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/ataks/Desktop/Software/React/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{createContext,useReducer,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var initialState={favorites:localStorage.getItem(\"favorites\")?JSON.parse(localStorage.getItem(\"favorites\")):[]};var AppReducer=function AppReducer(state,action){switch(action.type){case'ADD_MOVIE':return _objectSpread(_objectSpread({},state),{},{favorites:[].concat(_toConsumableArray(state.favorites),[action.payload])});case'REMOVE_MOVIE':return{favorites:state.favorites.filter(function(movie){return movie.id!==action.payload;})};default:return state;}};var AppContext=/*#__PURE__*/createContext();export var AppProvider=function AppProvider(props){var _useReducer=useReducer(AppReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){localStorage.setItem(\"favorites\",JSON.stringify(state.favorites));},[state]);return/*#__PURE__*/_jsx(AppContext.Provider,{value:{favorites:state.favorites,dispatch:dispatch},children:props.children});};export default AppContext;","map":{"version":3,"sources":["C:/Users/ataks/desktop/software/react/movie-app/src/context/AppContext.js"],"names":["createContext","useReducer","useEffect","initialState","favorites","localStorage","getItem","JSON","parse","AppReducer","state","action","type","payload","filter","movie","id","AppContext","AppProvider","props","dispatch","setItem","stringify","children"],"mappings":"yfAAA,OAAQA,aAAR,CAAuBC,UAAvB,CAAmCC,SAAnC,KAAoD,OAApD,C,2CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,SAAS,CAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB,EACTC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CADS,CAET,EAHe,CAArB,CAMA,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAClC,OAAQA,MAAM,CAACC,IAAf,EACI,IAAK,WAAL,CACI,sCACOF,KADP,MAEIN,SAAS,8BAAMM,KAAK,CAACN,SAAZ,GAAuBO,MAAM,CAACE,OAA9B,EAFb,GAIJ,IAAK,cAAL,CACI,MAAO,CACHT,SAAS,CAAEM,KAAK,CAACN,SAAN,CAAgBU,MAAhB,CAAuB,SAACC,KAAD,QAAWA,CAAAA,KAAK,CAACC,EAAN,GAAaL,MAAM,CAACE,OAA/B,EAAvB,CADR,CAAP,CAGJ,QACI,MAAOH,CAAAA,KAAP,CAXR,CAaH,CAdD,CAgBA,GAAMO,CAAAA,UAAU,cAAGjB,aAAa,EAAhC,CAGA,MAAO,IAAMkB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,iBACRlB,UAAU,CAACQ,UAAD,CAAaN,YAAb,CADF,4CAC3BO,KAD2B,iBACpBU,QADoB,iBAGlClB,SAAS,CAAC,UAAM,CACZG,YAAY,CAACgB,OAAb,CAAqB,WAArB,CAAkCd,IAAI,CAACe,SAAL,CAAeZ,KAAK,CAACN,SAArB,CAAlC,EACH,CAFQ,CAEN,CAACM,KAAD,CAFM,CAAT,CAIA,mBACI,KAAC,UAAD,CAAY,QAAZ,EAAqB,KAAK,CAAE,CACxBN,SAAS,CAAEM,KAAK,CAACN,SADO,CAExBgB,QAAQ,CAARA,QAFwB,CAA5B,UAIKD,KAAK,CAACI,QAJX,EADJ,CAQH,CAfM,CAiBP,cAAeN,CAAAA,UAAf","sourcesContent":["import {createContext, useReducer, useEffect}  from 'react'\r\n\r\nconst initialState = {\r\n    favorites: localStorage.getItem(\"favorites\")\r\n    ? JSON.parse(localStorage.getItem(\"favorites\"))\r\n    : []\r\n}\r\n\r\nconst AppReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_MOVIE':\r\n            return {\r\n                ...state,\r\n                favorites: [...state.favorites, action.payload]\r\n            }\r\n        case 'REMOVE_MOVIE':\r\n            return {\r\n                favorites: state.favorites.filter((movie) => movie.id !== action.payload)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst AppContext = createContext();\r\n\r\n\r\nexport const AppProvider = (props) => {\r\n    const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"favorites\", JSON.stringify(state.favorites));\r\n    }, [state]);\r\n\r\n    return (\r\n        <AppContext.Provider value={{\r\n            favorites: state.favorites,\r\n            dispatch,\r\n        }}>\r\n            {props.children}\r\n        </AppContext.Provider>\r\n    );\r\n}\r\n\r\nexport default AppContext"]},"metadata":{},"sourceType":"module"}