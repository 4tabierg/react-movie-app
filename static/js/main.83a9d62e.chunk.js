(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{28:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(20),r=c.n(n),i=c(8),o=c(2),l=(c(28),c(0)),j=function(){return Object(l.jsx)("header",{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"inner-content",children:[Object(l.jsx)("div",{className:"brand",children:Object(l.jsx)(i.b,{to:"/",children:"MovieApp"})}),Object(l.jsxs)("ul",{className:"nav-links",children:[Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/",children:"Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/favorites",children:"Favorites"})})]})]})})})},d=c(17),b=c.n(d),u=c(22),h=c(11),O=c(23),v=c(18),f={favorites:localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):[]},x=function(e,t){switch(t.type){case"ADD_MOVIE":return Object(v.a)(Object(v.a)({},e),{},{favorites:[].concat(Object(O.a)(e.favorites),[t.payload])});case"REMOVE_MOVIE":return{favorites:e.favorites.filter((function(e){return e.id!==t.payload}))};default:return e}},m=Object(a.createContext)(),p=function(e){var t=Object(a.useReducer)(x,f),c=Object(h.a)(t,2),s=c[0],n=c[1];return Object(a.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(s.favorites))}),[s]),Object(l.jsx)(m.Provider,{value:{favorites:s.favorites,dispatch:n},children:e.children})},g=m,N=function(e){var t=e.movie,c=Object(a.useContext)(g),s=c.dispatch,n=!!c.favorites.find((function(e){return e.id===t.id}));return Object(l.jsxs)("div",{className:"result-card",children:[Object(l.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(l.jsx)("div",{className:"filler-poster"})}),Object(l.jsxs)("div",{className:"info",children:[Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("h3",{className:"title",children:t.title}),Object(l.jsx)("h4",{className:"release-date",children:t.release_date?t.release_date.substring(0,4):"-"})]}),n?Object(l.jsx)("button",{className:"btn-remove",onClick:function(){return function(e){s({type:"REMOVE_MOVIE",payload:e.id})}(t)},children:"Remove From Favorites"}):Object(l.jsx)("button",{className:"btn",onClick:function(){return function(e){s({type:"ADD_MOVIE",payload:e})}(t)},children:"Add To Favorites"})]})]})},y=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),r=Object(h.a)(n,2),i=r[0],o=r[1],j=function(){var e=Object(u.a)(b.a.mark((function e(t){var c,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t.target.value),"dfbf0d2ccd7a5faa63a22c477095fca1",c="https://api.themoviedb.org/3/search/movie?api_key=".concat("dfbf0d2ccd7a5faa63a22c477095fca1","&language=en-US&page=1&include_adult=false&query=").concat(t.target.value),e.next=5,fetch(c);case 5:return a=e.sent,e.next=8,a.json();case 8:(n=e.sent).errors?s([]):s(n.results);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"a-page",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"add-content",children:[Object(l.jsx)("div",{className:"input-wrapper",children:Object(l.jsx)("input",{type:"text",placeholder:"Search for a movie",value:i,onChange:j})}),c.length>0&&Object(l.jsx)("ul",{className:"results",children:c.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(N,{movie:e})},e.id)}))})]})})})},E=function(e){var t=e.movie,c=Object(a.useContext)(g).dispatch;return Object(l.jsxs)("div",{className:"image-container",children:[Object(l.jsx)("div",{className:"overlay"}),Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}),Object(l.jsx)("div",{className:"inner-card-controls",children:Object(l.jsx)("button",{className:"ctrl-btn",onClick:function(){return function(e){c({type:"REMOVE_MOVIE",payload:e.id})}(t)},children:"Remove"})})]})},_=function(){var e=Object(a.useContext)(g).favorites;return Object(l.jsx)("div",{className:"movie-page",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("h1",{className:"heading",children:"My Favorites"})}),e.length>0?Object(l.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(l.jsx)(E,{movie:e,type:"favorites"},e.id)}))}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{className:"no-movies",children:"No movies found."}),Object(l.jsx)("img",{style:{width:"600px",height:"600px",marginLeft:"290px"},src:"/images/notfound.png",alt:"not-found"})]})]})})};var M=function(){return Object(l.jsx)(p,{children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(j,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",children:Object(l.jsx)(y,{})}),Object(l.jsx)(o.a,{path:"/favorites",children:Object(l.jsx)(_,{})})]})]})})};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(M,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.83a9d62e.chunk.js.map